function scheduleMigration(){var e=ischromeurl(getcurrenturl());if(g_loggedinonline)return e?(console_log("Delaying migration check"),void setTimeout(scheduleMigration,3e4)):void refreshFormfillMigrationFeatureFlag(function(){console_log("Checking migration status"),LPContentScriptFeatures.formfill_migration&&g_blob_version.version<20170404140712&&sendLpImprove("migration::formfill::due"),MigrationBackground.subscribeToState(function(e){e||showMigrationPopup()}),Migrator.executeMigrations(),scheduleMigration.isScheduled=!1})}function refreshFormfillMigrationFeatureFlag(e){var t=localStorage_getItem("formfill_feature_last_check");t&&new Date(t).getDate()===(new Date).getDate()?e():Feature.isEnabled("formfill_migration",get_method(),function(t){localStorage_setItem("formfill_feature_last_check",new Date),LPContentScriptFeatures.formfill_migration=t,e()})}function showMigrationPopup(){LPPlatform.getCurrentTab(function(e){if(e&&e.getTop()){e.getTop().LPFrame.openDialog("migrationPopup",{url:getchromeurl("",!0)},{css:{top:0,right:0}})}else{setTimeout(showMigrationPopup,3e4)}})}scheduleMigration.isScheduled=!1;
//# sourceMappingURL=sourcemaps/migration.js.map
