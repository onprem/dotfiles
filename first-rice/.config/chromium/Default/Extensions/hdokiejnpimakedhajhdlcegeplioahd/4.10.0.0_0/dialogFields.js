DialogInput=function(){var t=function(n){var r={};for(var i in n)n.hasOwnProperty(i)&&(n[i]instanceof e?r[i]=t(n[i]):r[i]=!0);return r},e=function(){};e.prototype.validate=function(){var t=!0;for(var e in this)this.hasOwnProperty(e)&&(t=this[e].validate()&&t);return t},e.prototype.clear=function(){for(var t in this)this.hasOwnProperty(t)&&this[t].clear()},e.prototype.clearErrors=function(){for(var t in this)this.hasOwnProperty(t)&&this[t].clearErrors()},e.prototype.adjustView=function(){for(var t in this)if(this.hasOwnProperty(t)){var e=this[t];"function"==typeof e.adjustView&&e.adjustView()}},e.prototype.getValue=function(t){var e={};for(var n in this)this.hasOwnProperty(n)&&(e[n]=this[n].getValue(t));return e},e.prototype.setValue=function(t){for(var e in this)this.hasOwnProperty(e)&&this[e].setValue(void 0===t[e]?"":t[e])},e.prototype.hasError=function(){for(var t in this)if(this.hasOwnProperty(t)&&this[t].hasError())return!0;return!1};var n=function(t){this.items={},this.groupName=t};n.prototype.getValue=function(){for(var t in this.items)if(this.items[t].prop("checked"))return t},n.prototype.setValue=function(t){var e=this.items[t];if(e)e.prop("checked",!0);else for(var n in this.items)this.items[n].prop("checked",!1)},n.prototype.addRadioInput=function(t){var e=t.attr("value");if(!e)throw"RadioGroup member must have a value!";if(t.attr("name")!==this.groupName)throw"RadioGroup member must have the same name attribute as the other radio inputs in the group (based on dialogField)!";this.items[e]=t};var r=function(){this._errors=[],this._errorContainer=null,this._errorOptions=null,this._hasError=!1};r.prototype.postValidate=function(){this._hasError=this._errors.length>0,this._hasError&&this._errorContainerWrapper.find("input,select,textarea").bind("focus",this.focusHandler).bind("blur",this.blurHandler).bind("change",this.changeHandler)},r.prototype.hasError=function(){return this._hasError},r.prototype.buildError=function(){var t=this.getElement(),e={element:t,alignTop:"SELECT"===this.input.prop("nodeName").toUpperCase()};return"checkbox"===t.attr("type")&&(e.element=e.element.add(t.next()),e.static=!0),this.buildErrorElement(e)},r.prototype.buildErrorElement=function(t){this._errorOptions=t=$.extend(this.getDialog().getErrorOptions(),t);var e=this._errorContainerWrapper=$(LPTools.createElement("div","relative"));this._errorContainer=$(LPTools.createElement("div","dialogErrorContainer")),t.element.before(e),t.static&&e.addClass("staticError"),t.alignTop&&this._errorContainer.addClass("alignTop"),t.static&&!t.alignTop?(e.append(t.element),e.append(this._errorContainer)):(e.append(this._errorContainer),e.append(t.element));var n=this.getDialog();this.focusHandler=function(){e.addClass("focus")},this.blurHandler=function(){e.removeClass("focus")},this.changeHandler=function(){n.performValidate({data:n.getData(),errorsOnly:!0})}},r.prototype.addError=function(t,e){e=this.dialog=this.getDialog()||e,(!this.disabled&&!LPTools.getOption(e.validateOptions,"errorsOnly",!1)||this.hasError())&&(this._hasError=!0,this._errors.push(t),this.buildErrorMessage())},r.prototype.clearErrors=function(){this._errors=[],this._errorContainer&&(this._errorContainer.empty(),this._errorContainerWrapper.removeClass("error"),this._errorContainerWrapper.find("input,select,textarea").unbind("focus",this.focusHandler).unbind("blur",this.blurHandler).unbind("change",this.changeHandler))},r.prototype.clear=function(){this._hasError=!1},r.prototype.adjustView=function(){},r.prototype.buildErrorMessage=function(){this._errorContainer||this.buildError(),this._errorContainerWrapper.addClass("error"),this._errors.forEach(function(t){var e=LPTools.createElement("div","dialogError");e.appendChild(LPTools.createElement("div","validation-img warning")),LPTools.getOption(this._errorOptions,"showErrorLabel",!0)&&e.appendChild(LPTools.createElement("span","errorLabel",Strings.translateString("ERROR")+": ")),e.appendChild(LPTools.createElement("span","",t)),this._errorContainer.append(e)},this)},r.prototype.getDialog=function(){return this.dialog},r.prototype.getElement=function(){return this.input};var i=function(t,e){r.call(this),this.setElement(t),this.disabled=!1,this.dialog=e,this.radioGroup=null};(i.prototype=Object.create(r.prototype)).constructor=i;var o=function(t){return t instanceof $?t:$(t)};i.prototype.getNativeElement=function(){return this.getElement().get(0)},i.prototype.setElement=function(t){this.input=o(t),"SELECT"===this.input.prop("nodeName")&&this.input.prepend(LPTools.createElement("option",{value:""},""))},i.prototype.default=function(){this.setValue("")},i.prototype.validate=function(){return!0},i.prototype.focus=function(){this.input.focus()},i.prototype.disable=function(){this.disabled||(this.disabled=!0,this.input.prop("disabled",!0))},i.prototype.enable=function(){this.disabled&&(this.disabled=!1,this.input.prop("disabled",!1))},i.prototype.clear=function(){if(r.prototype.clear.apply(this,arguments),this.input){switch(this.input.attr("type")){case"checkbox":case"radio":this.setValue(!1);break;default:this.setValue("")}this.input.passwordShown&&this.input.hidePassword()}},i.prototype.getValue=function(){switch(this.input.attr("type")){case"radio":if(this.radioGroup)return this.radioGroup.getValue();case"checkbox":return this.input.prop("checked");default:return this.input.val()||""}},i.prototype.setValue=function(t){var e=this.getValue();switch(this.input.attr("type")){case"radio":if(this.radioGroup)return this.radioGroup.setValue(t);case"checkbox":this.input.prop("checked",t);break;default:this.input.val(t)}e!==t&&this.fireOnChange()},i.prototype.addRadioInput=function(t,e){null===this.radioGroup&&(this.radioGroup=new n(t),this.radioGroup.addRadioInput(this.input)),this.radioGroup.addRadioInput(o(e))},i.prototype.fireOnChange=function(){this.onChangeCallback&&this.onChangeCallback(this.getValue())},i.prototype.onChange=function(t){var e;this.onChangeCallback=t,(e=this).getElement().bind("change",function(){e.fireOnChange()})},i.prototype.buildInputElement=function(){return this.getNativeElement()},i.prototype.adjustView=function(){};var a=function(t,e,n){this.field=t,this.inputObject=e,void 0===(n=n||{}).label?this.label=Strings.translateString(t):n.label?this.label=Strings.translateString(n.label):this.label=null,this.isTopAlign=n.topAlign};a.prototype.build=function(){var t="settingLabel";this.isTopAlign&&(t+=" topAlign");var e=LPTools.createElement("tr"),n=LPTools.createElement("td");return this.label&&e.appendChild(LPTools.createElement("td",t,this.label)),e.appendChild(n),n.appendChild(this.inputObject.buildInputElement()),e},a.prototype.getNativeElement=function(){return this.inputObject.getNativeElement()},a.prototype.setElement=function(t){this.inputObject.setElement(t)},a.prototype.default=function(){this.inputObject.default()},a.prototype.clearErrors=function(){this.inputObject.clearErrors()},a.prototype.validate=function(){return this.inputObject.validate()},a.prototype.focus=function(){this.inputObject.focus()},a.prototype.disable=function(){this.inputObject.disable()},a.prototype.enable=function(){this.inputObject.enable()},a.prototype.clear=function(){this.inputObject.clear()},a.prototype.getValue=function(){return this.inputObject.getValue()},a.prototype.setValue=function(t){this.inputObject.setValue(t)},a.prototype.fireOnChange=function(){this.inputObject.fireOnChange()},a.prototype.onChange=function(t){this.inputObject.onChange(t)},a.prototype.adjustView=function(){this.inputObject.adjustView()};var s=function(t){i.call(this,LPTools.createElement("input",{class:"dialogInput",type:"text"})),this.options=t};(s.prototype=Object.create(i.prototype)).constructor=s,s.prototype.buildInputElement=function(){var t,e=this.getNativeElement(),n=LPTools.getOption(this.options,"inputButton",null);if(n){this.dialog=this.dialog||dialogs.note.getDialog();var r=LPTools.createElement("div","relative");r.appendChild(e),this.inputButtonElement=LPTools.createElement("button","dialogInputButton",n);var i=LPTools.getOption(this.options,"inputButtonHandler",null);return i&&(t=this,LPPlatform.addEventListener(t.inputButtonElement,"click",function(){i.apply(t)})),r.appendChild(this.inputButtonElement),r}return e},s.prototype.adjustView=function(){if(this.inputButtonElement){var t=parseInt(this.input.css("padding-right"));this.input.css("padding-right",t+$(this.inputButtonElement).outerWidth())}};var p=function(){i.call(this,LPTools.createElement("input",{class:"dialogInput",type:"password"}))};(p.prototype=Object.create(i.prototype)).constructor=p,p.prototype.buildInputElement=function(){this.input.LP_addPasswordEye({includeGenerateButton:!0});var t=this.input.parents();return t[t.length-1]};var u=function(t,e){this.options=e||{},i.call(this,LPTools.createElement("textarea",["dialogInput",t]))};(u.prototype=Object.create(i.prototype)).constructor=u,u.prototype.buildInputElement=function(){var t,e=this.getNativeElement(),n=LPTools.getOption(this.options,"inputButton",null);if(n){this.dialog=this.dialog||dialogs.note.getDialog();var r=LPTools.createElement("div","relative");r.appendChild(e),this.inputButtonElement=LPTools.createElement("button","dialogInputButton copy",n);var i=LPTools.getOption(this.options,"inputButtonHandler",null);return i&&(t=this,LPPlatform.addEventListener(t.inputButtonElement,"click",function(){i.apply(t)})),r.appendChild(this.inputButtonElement),r}return e},u.prototype.adjustView=function(){if(this.inputButtonElement){var t=parseInt(this.input.css("padding-right"));this.input.css("padding-right",t+$(this.inputButtonElement).outerWidth())}};var l=["January","February","March","April","May","June","July","August","September","October","November","December"],h=["01","02","03","04","05","06","07","08","09","10","11","12"],c=[];!function(){for(var t=0,e=l.length;t<e;++t){var n=t+1,r=(n<10?"0"+n:n)+" - ";c.push(r+Strings.translateString(l[t]))}}();var d=[{value:"",label:""}];!function(){for(var t=0,e=l.length;t<e;++t)d.push({value:l[t],label:c[t]})}();var f=[{value:"",label:""}];!function(){for(var t=0,e=l.length;t<e;++t)f.push({value:h[t],label:c[t]})}();var y=function(t){i.call(this),this.includeDay=LPTools.getOption(t,"includeDay",!0)};(y.prototype=Object.create(i.prototype)).constructor=y,y.prototype.buildError=function(){return this.buildErrorElement({element:$(this.container)})},y.prototype.buildInputElement=function(){var t="";this.includeDay||(t="monthYearDate"),this.container=LPTools.createElement("div",t);var e=LPTools.createElement("div","dateInputMonth");return this.monthInput=LPTools.createSelectElement(this.getMonthOptions()),this.dayInput=null,this.includeDay&&(this.dayInput=LPTools.createElement("input",{class:"dialogInput dateInputDay",type:"text"})),this.yearInput=LPTools.createElement("input",{class:"dialogInput dateInputYear",type:"text"}),e.appendChild(this.monthInput),this.container.appendChild(e),null!==this.dayInput&&this.container.appendChild(this.dayInput),this.container.appendChild(this.yearInput),this.container},y.prototype.clear=function(){this.monthInput&&(this.monthInput.value=""),this.dayInput&&(this.dayInput.value=""),this.yearInput&&(this.yearInput.value="")},y.prototype.getValue=function(){return this.toString()},y.prototype.setValue=function(t){var e=this.parse(t),n="",r="",i="";e&&(n=e.shift(),2===e.length&&(r=e.shift()),i=e.shift()),this.monthInput.value=n,this.includeDay&&(this.dayInput.value=r),this.yearInput.value=i};var g=function(t){y.call(this,t)};(g.prototype=Object.create(y.prototype)).constructor=g,g.prototype.toString=function(){var t=this.monthInput.value;return this.dayInput&&(t+=","+this.dayInput.value),t+=","+this.yearInput.value},g.prototype.parse=function(t){return t?t.split(","):null},g.prototype.getMonthOptions=function(){return d};var v=function(t){y.call(this,t)};(v.prototype=Object.create(y.prototype)).constructor=v,v.prototype.toString=function(){var t=this.yearInput.value+"-"+this.monthInput.value;return this.includeDay&&(t+="-"+this.dayInput.value),"-"!==t&&"--"!==t||(t=""),t},v.prototype.parse=function(t){if(t){var e=t.split("-");return e.push(e.shift()),e}return null},v.prototype.getMonthOptions=function(){return f};var b=function(){i.call(this,LPTools.createTimezoneSelect())};(b.prototype=Object.create(i.prototype)).constructor=b;var m=function(t){i.call(this,LPTools.createSelectElement(t))};(m.prototype=Object.create(i.prototype)).constructor=m;var E=function(){i.call(this,LPTools.createCountrySelect())};return(E.prototype=Object.create(i.prototype)).constructor=E,{ErrorDisplayInput:r,Input:i,LabelledInput:a,TextInput:s,PasswordInput:p,TextArea:u,NumericDateInput:v,AlphaDateInput:g,NestedFields:e,SelectInput:m,TimezoneInput:b,CountryInput:E,getProperties:t}}();
//# sourceMappingURL=sourcemaps/dialogFields.js.map
